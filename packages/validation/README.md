# barnard59-pipeline-validation
![CI status](https://github.com/zazuko/barnard59-pipeline-validation/workflows/Node.js%20CI/badge.svg)
[![Coverage Status](https://coveralls.io/repos/github/zazuko/barnard59-pipeline-validation/badge.svg?branch=master)](https://coveralls.io/github/zazuko/barnard59-pipeline-validation?branch=master)
[![npm version](https://badge.fury.io/js/barnard59-pipeline-validation.svg)](https://www.npmjs.com/package/barnard59-pipeline-validation)


### Pipeline validation

Pipeline validation enables you to verify the consistency of your RDF pipelines. It ensures that all pipeline steps are consistent, and can be executed one after another.
It is a programmatic reflection of [principles behind barnard59](https://github.com/zazuko/barnard59/wiki/Validation)

This script will help you understand what is wrong with your pipeline. Documentation behind [barnard59](https://github.com/zazuko/barnard59) will guide you how to build a valid one.

## Usage

Install globally:
`npm install -g barnard59-pipeline-validation`

CLI help:
`barnard59-validate -h`

Validating a pipeline definition:
`barnard59-validate ./sample-pipelines/fetch-json-to-ntriples.ttl`

### Available Options

* Validating a single pipeline by its IRI:  
    `barnard59-validate your-pipeline-file -p your-pipeline-iri`  
    For an example, try:  
    `barnard59-validate ./sample-pipelines/fetch-json-to-ntriples.json -p http://example.org/pipeline/utc`
* Exclude warnings from output:  
    `barnard59-validate your-pipeline-file --quiet`  
    For an example, try:  
    `barnard59-validate ./sample-pipelines/fetch-json-to-ntriples.json -q`
* Show successful validation checks:  
    `barnard59-validate your-pipeline-file --verbose`  
    For an example, try:  
    `barnard59-validate ./sample-pipelines/fetch-json-to-ntriples.json -v`
* Produce an error exit status on warnings (you might want the warnings to show in CI without failing the CI or vice versa):  
    `barnard59-validate your-pipeline-file --strict`  
    For an example, try:  
    `barnard59-validate ./sample-pipelines/fetch-json-to-ntriples.json -s`
* To return error messages in JSON, don't output to a TTY:  
    `barnard59-validate your-pipeline-file | jq`  

### Rules

A JSON summary of all rules is written to [`./rules.json`](./rules.json) whenever the tests are run, it can also be generated by running `npm run generate-rules`.
